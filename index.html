<!doctype html>
<html lang="mn">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Гудамжны гэрэл + Цас</title>
<style>
:root {
  --sky-top: #0a0f1f;
  --sky-bottom: #1b2947;
  --ground: #0d1426;
  --lamp-glow: 255, 236, 179;
  --snow-count: 220;
}

/* Base */
*{box-sizing:border-box}html,body{height:100%;margin:0;overflow:hidden;font-family:system-ui;background:linear-gradient(to bottom,var(--sky-top),var(--sky-bottom));color:#e5e9f0;}
.scene{position:relative;width:100vw;height:100vh;}
.stars{position:absolute;inset:0;opacity:.6;background-image:
radial-gradient(2px 2px at 10% 20%,rgba(255,255,255,.7)50%,transparent 60%),
radial-gradient(1px 1px at 25% 60%,rgba(255,255,255,.8)50%,transparent 60%),
radial-gradient(1.5px 1.5px at 40% 30%,rgba(255,255,255,.5)50%,transparent 60%),
radial-gradient(1px 1px at 70% 50%,rgba(255,255,255,.6)50%,transparent 60%),
radial-gradient(1.5px 1.5px at 85% 15%,rgba(255,255,255,.5)50%,transparent 60%),
radial-gradient(2px 2px at 90% 70%,rgba(255,255,255,.7)50%,transparent 60%);background-repeat:no-repeat;}

.ground{position:absolute;bottom:0;left:0;right:0;height:28vh;background:radial-gradient(60vw 20vh at 50% 0%,rgba(255,255,255,.05),transparent 60%),linear-gradient(to top,var(--ground),transparent 80%);}

/* Streetlights */
.streetlight{position:absolute;bottom:28vh;width:14px;height:44vh;background:linear-gradient(#505a6e,#3e4757);border-radius:8px;box-shadow:inset 0 0 4px rgba(0,0,0,.6);}
.streetlight::before{content:"";position:absolute;bottom:-10px;left:50%;transform:translateX(-50%);width:110px;height:14px;border-radius:10px;background:linear-gradient(#2a2f3a,#1f2430);box-shadow:0 10px 20px rgba(0,0,0,.5);}
.arm{position:absolute;top:4vh;left:50%;transform:translateX(-50%);width:160px;height:10px;border-radius:10px;background:#434c5e;}
.arm::after{content:"";position:absolute;right:-6px;top:0;width:10px;height:90px;border-radius:10px;background:#434c5e;}

.lamp{--bulb-size:26px;position:absolute;width:var(--bulb-size);height:var(--bulb-size);border-radius:50%;background:radial-gradient(circle at 45% 35%, rgba(var(--lamp-glow),1) 0 40%, rgba(var(--lamp-glow),.7) 55%, rgba(var(--lamp-glow),0) 75%);box-shadow:0 0 14px 6px rgba(var(--lamp-glow),.85),0 0 44px 16px rgba(var(--lamp-glow),.35);}
.cone{position:absolute;width:340px;height:60vh;pointer-events:none;transform-origin:top left;transform:rotate(16deg);background:conic-gradient(from 180deg at 0 0,rgba(var(--lamp-glow),.38),rgba(var(--lamp-glow),.18)20%,rgba(var(--lamp-glow),0)35%);-webkit-mask:linear-gradient(to bottom,rgba(0,0,0,1),rgba(0,0,0,.6)35%,rgba(0,0,0,0)80%);mask:linear-gradient(to bottom,rgba(0,0,0,1),rgba(0,0,0,.6)35%,rgba(0,0,0,0)80%);filter:blur(0.6px);}
.halo{position:absolute;bottom:28vh;width:260px;height:48px;transform:translateX(-50%) skewX(16deg);background:radial-gradient(60% 100% at 50% 50%, rgba(var(--lamp-glow),.28), rgba(255,255,255,0)70%);filter:blur(6px);}

/* Snow */
#snow{position:absolute;inset:0;pointer-events:none;}
.flake{position:fixed;top:-10px;width:var(--size);height:var(--size);border-radius:50%;background:radial-gradient(circle at 40% 40%,#fff 0 45%,rgba(255,255,255,.9) 60%,rgba(180,220,255,.4) 70%,transparent 80%);opacity:var(--opacity);filter:drop-shadow(0 0 4px rgba(255,255,255,.8)) drop-shadow(0 0 8px rgba(200,220,255,.6));animation:fall var(--fall) linear var(--delay) infinite,sway var(--sway) ease-in-out var(--delay) infinite;}
@keyframes fall{to{transform:translateY(110vh) translateX(0);}}
@keyframes sway{0%,100%{margin-left:0}50%{margin-left:var(--wind);}}

/* UI */
.controls{position:fixed;top:16px;right:16px;background:rgba(13,20,38,.6);backdrop-filter:blur(8px);border-radius:16px;padding:10px;display:flex;gap:10px;align-items:center;}
.controls input[type="range"]{width:140px;}
.controls button{padding:8px 12px;border-radius:12px;background:rgba(255,255,255,.08);color:#e5e9f0;border:none;cursor:pointer;}
.controls button:hover{background:rgba(255,255,255,.14);}

/* Responsive */
@media(max-width:640px){.arm{width:120px}.lamp{left:calc(var(--lamp-left-mobile));}.cone{width:260px;transform:rotate(18deg);}.halo{width:200px;}}
</style>
</head>
<body>
<div class="scene" role="img" aria-label="Шөнийн тэнгэр, гудамжны гэрэл, цас бударч байна">
  <div class="stars"></div>
  <div id="snow" aria-hidden="true"></div>

  <!-- Multiple streetlights -->
  <div class="streetlight" style="left:20%"><div class="arm"></div></div>
  <div class="lamp" style="top:calc(4vh + 80px); left:calc(20% + 152px)"></div>
  <div class="cone" style="top:calc(4vh + 90px); left:calc(20% + 135px)"></div>
  <div class="halo" style="left:calc(20% + 230px)"></div>

  <div class="streetlight" style="left:50%"><div class="arm"></div></div>
  <div class="lamp" style="top:calc(4vh + 80px); left:calc(50% + 152px)"></div>
  <div class="cone" style="top:calc(4vh + 90px); left:calc(50% + 135px)"></div>
  <div class="halo" style="left:calc(50% + 230px)"></div>

  <div class="streetlight" style="left:80%"><div class="arm"></div></div>
  <div class="lamp" style="top:calc(4vh + 80px); left:calc(80% + 152px)"></div>
  <div class="cone" style="top:calc(4vh + 90px); left:calc(80% + 135px)"></div>
  <div class="halo" style="left:calc(80% + 230px)"></div>

  <div class="ground"></div>
</div>

<div class="controls">
  <label for="density">Цас: <span id="densityValue">220</span></label>
  <input id="density" type="range" min="40" max="600" value="220" />
  <button id="windBtn" type="button">Салхи ↔</button>
</div>

<script>
const snowRoot=document.getElementById('snow');
const densityInput=document.getElementById('density');
const densityValue=document.getElementById('densityValue');
const windBtn=document.getElementById('windBtn');
let windDirection=1;
function rand(min,max){return Math.random()*(max-min)+min;}
function spawnFlakes(count){
  const frag=document.createDocumentFragment();
  for(let i=0;i<count;i++){
    const f=document.createElement('span');f.className='flake';
    const size=rand(3,8),fall=rand(6,13),sway=rand(3.5,8.5),delay=rand(-fall,0),left=rand(-5,105),wind=rand(12,38)*windDirection,opacity=rand(.55,1);
    f.style.setProperty('--size',size+'px');f.style.setProperty('--fall',fall+'s');f.style.setProperty('--sway',sway+'s');f.style.setProperty('--delay',delay+'s');f.style.left=left+'vw';f.style.setProperty('--wind',wind+'px');f.style.setProperty('--opacity',opacity);
    frag.appendChild(f);
  }
  snowRoot.appendChild(frag);
}
function resetSnow(count){snowRoot.innerHTML='';spawnFlakes(count);}
resetSnow(parseInt(getComputedStyle(document.documentElement).getPropertyValue('--snow-count'))||220);

densityInput.addEventListener('input',(e)=>{const val=parseInt(e.target.value,10);densityValue.textContent=val;resetSnow(val);});
windBtn.addEventListener('click',()=>{windDirection*=-1;document.querySelectorAll('.flake').forEach(f=>{const mag=Math.abs(parseFloat(getComputedStyle(f).getPropertyValue('--wind'))||20);f.style.setProperty('--wind',(mag*windDirection)+'px');});});
</script>
</body>
</html>
